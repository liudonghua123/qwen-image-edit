# Example .env for qwen-image-edit
# Optional: set an API key to require Basic Auth (password = API_KEY)
API_KEY=your_api_key_here

# Path to the local model files (default in code is /mnt/models)
QWEN_MODEL_DIR=/mnt/models

# Device mapping for model loading. Supported values:
# - cuda     : place model on a single CUDA device (single GPU only)
# - balanced : distribute model layers across available GPUs (multi-GPU, RECOMMENDED)
#
# ⚠️ IMPORTANT: For multiple GPUs, MUST use DEVICE_MAP=balanced to avoid OOM!
# - If DEVICE_MAP=cuda with 2+ GPUs → only uses 1 GPU → OOM
# - If DEVICE_MAP=balanced with 2+ GPUs → uses all GPUs → works efficiently
#
# Examples:
#   Single GPU: DEVICE_MAP=cuda
#   Dual GPU: DEVICE_MAP=balanced
#   Multiple GPUs: DEVICE_MAP=balanced
DEVICE_MAP=balanced

# Server configuration (optional)
# Host and port used by `python main.py` / Docker CMD
HOST=0.0.0.0
PORT=8000

# Log level for uvicorn (debug, info, warning, error)
LOG_LEVEL=info

# Enable auto-reload in development (true/false)
# Set to true only for local development; do NOT enable in production.
RELOAD=false
